Day 5 

Python Basics for DevOps

Learning points:
ğŸ”¹ Python Fundamentals â€“ Variables, data types, operators, and control flow.
ğŸ”¹ Functions & Modules â€“ Writing reusable functions and using built-in modules.
ğŸ”¹ File Handling â€“ Reading and writing files (open(), read(), write()).
ğŸ”¹ Error Handling â€“ Using try-except blocks to handle exceptions.
ğŸ”¹ Working with Lists, Tuples, and Dictionaries â€“ Data manipulation techniques.
ğŸ”¹ Installing Packages with pip â€“ Managing external libraries.
ğŸ”¹ Basic Scripting for Automation â€“ Writing and executing Python scripts.

Initial Tasks:
âœ… Task 1: Install Python (Check with python --version) and set up a virtual environment (venv).
âœ… Task 2: Install VS Code or PyCharm for a better coding experience.
âœ… Task 3: Write a simple Python script that prints "Hello, DevOps!".
âœ… Task 4: Explore built-in data types (int, float, str, list, tuple, dict) and perform basic operations.
âœ… Task 5: Write a Python function that takes two numbers as input and returns their sum.
âœ… Task 6: Use Pythonâ€™s os and sys modules to interact with the system.

ğŸŒŸ Challenge 1: Greeting Script
# greet.py
name = input("Enter your name: ")
print(f"Hello, {name}! Welcome to the DevOps world! ğŸš€")

Run:
 python greet.py


ğŸŒŸ Challenge 2: Word Count in File
# word_count.py
file_name = input("Enter the file name: ")
try:
    with open(file_name, "r") as file:
        content = file.read()
    word_count = len(content.split())
    print(f"âœ… The file '{file_name}' contains {word_count} words.")
except FileNotFoundError:
    print(f"âŒ Error: The file '{file_name}' was not found.")
except Exception as e:
    print(f"âŒ An error occurred: {e}")

Run:
   echo "DevOps is about automation, collaboration, and efficiency." > sample.txt
   python word_count.py

Bonus:

file_name = input("Enter the file name: ")
try:
    word_count = 0
    with open(file_name, "r") as file:
        for line in file:
            word_count += len(line.split())
    print(f"âœ… The file '{file_name}' contains {word_count} words.")
except FileNotFoundError:
    print(f"âŒ Error: The file '{file_name}' was not found.")
except Exception as e:
    print(f"âŒ An error occurred: {e}")


ğŸŒŸ Challenge 3: Random Password Generator
# generate_password.py
import secrets
import string

def generate_password(length=12):
    characters = string.ascii_letters + string.digits + string.punctuation
    password = ''.join(secrets.choice(characters) for _ in range(length))
    return password

print(f"ğŸ” Your secure password: {generate_password()}")

Bonus:

def generate_password(length):
    if length < 8:
        print("âŒ Password length should be at least 8 characters for security.")
        return None
    characters = string.ascii_letters + string.digits + string.punctuation
    return ''.join(secrets.choice(characters) for _ in range(length))

length = int(input("Enter password length (min 8): "))
password = generate_password(length)
if password:
    print(f"ğŸ” Your secure password: {password}")


ğŸŒŸ Challenge 4: Prime Number Checker
# check_prime.py
def is_prime(n):
    if n < 2:
        return False
    for i in range(2, int(n**0.5) + 1):
        if n % i == 0:
            return False
    return True

try:
    num = int(input("Enter a number: "))
    if is_prime(num):
        print(f"âœ… {num} is a prime number.")
    else:
        print(f"âŒ {num} is not a prime number.")
except ValueError:
    print("âŒ Please enter a valid integer.")


ğŸŒŸ Challenge 5: Ping Servers from File
# ping_servers.py
import os
import platform

def ping_server(server):
    param = "-n 1" if platform.system().lower() == "windows" else "-c 1"
    response = os.system(f"ping {param} {server} > /dev/null 2>&1")
    return response == 0

try:
    with open("servers.txt", "r") as file:
        servers = [line.strip() for line in file.readlines()]
    for server in servers:
        if server:
            status = "âœ… Reachable" if ping_server(server) else "âŒ Unreachable"
            print(f"{server}: {status}")
except FileNotFoundError:
    print("âŒ Error: servers.txt not found!")
except Exception as e:
    print(f"âŒ An error occurred: {e}")

Bonus - Log Results:

with open("ping_results.log", "w") as log_file:
    for server in servers:
        if server:
            status = "âœ… Reachable" if ping_server(server) else "âŒ Unreachable"
            log_file.write(f"{server}: {status}\n")
            print(f"{server}: {status}")


ğŸŒŸ Challenge 6: CRUD Operations with Requests
# crud_call.py
import requests
API_URL = "https://jsonplaceholder.typicode.com/posts"

# Define CRUD functions...
# get_post, create_post, update_post, delete_post as described earlier

if __name__ == "__main__":
    get_post(1)
    new_post_id = create_post()
    if new_post_id:
        update_post(new_post_id)
        delete_post(new_post_id)


ğŸŒŸ Challenge 7: Bulk Rename Files
# rename_files.py
import os

directory = "test_files"
prefix = "renamed_"

if not os.path.exists(directory):
    print(f"âŒ Error: Directory '{directory}' not found!")
    exit(1)

for count, filename in enumerate(os.listdir(directory), start=1):
    old_path = os.path.join(directory, filename)
    if os.path.isfile(old_path):
        new_name = f"{prefix}{count}.txt"
        new_path = os.path.join(directory, new_name)
        os.rename(old_path, new_path)
        print(f"âœ… Renamed: {filename} â†’ {new_name}")
print("ğŸ‰ Renaming completed!")


ğŸŒŸ Challenge 8: Monitor CPU & Memory
# monitor_resources.py
import psutil
import time

def monitor_resources(interval=5):
    print("ğŸ“Š Monitoring CPU and Memory usage... (Press Ctrl+C to stop)\n")
    try:
        while True:
            cpu_usage = psutil.cpu_percent(interval=1)
            memory_info = psutil.virtual_memory()
            memory_usage = memory_info.percent
            print(f"ğŸ–¥ï¸ CPU Usage: {cpu_usage}% | ğŸ§  Memory Usage: {memory_usage}%")
            time.sleep(interval - 1)
    except KeyboardInterrupt:
        print("\nâŒ Monitoring stopped.")

Bonus - Log to File:

with open("resource_usage.log", "a") as log_file:
    while True:
        ... # Write log entries with timestamps


ğŸŒŸ Challenge 9: Create Linux User with Subprocess
# create_user.py
import subprocess

def create_user(username):
    try:
        subprocess.run(["id", username], check=True, stdout=subprocess.DEVNULL, stderr=subprocess.DEVNULL)
        print(f"âœ… User '{username}' already exists.")
        return
    except subprocess.CalledProcessError:
        pass

    try:
        subprocess.run(["sudo", "useradd", "-m", "-s", "/bin/bash", username], check=True)
        print(f"âœ… User '{username}' created successfully.")
    except subprocess.CalledProcessError:
        print(f"âŒ Failed to create user '{username}'. Ensure you have sudo privileges.")
        return

    try:
        subprocess.run(["id", username], check=True)
        print(f"âœ… Verification successful: '{username}' exists in the system.")
    except subprocess.CalledProcessError:
        print(f"âŒ Verification failed: '{username}' does not exist.")

username = input("Enter the username to create: ")
create_user(username)
